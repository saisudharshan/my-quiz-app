{"ast":null,"code":"import _slicedToArray from\"D:/quiz-type/my-quiz-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Card,Radio,Button,Typography,notification}from\"antd\";import React,{useEffect,useState}from\"react\";import QuizResult from\"./QuizResult\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Title=Typography.Title;var QuizCard=function QuizCard(props){var questions=props.questions,currentQuestion=props.currentQuestion,setCurrentQuestion=props.setCurrentQuestion;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),currentQuestionIndex=_useState2[0],setCurrentQuestionIndex=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),selectedAnswer=_useState4[0],setSelectedAnswer=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),score=_useState6[0],setScore=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),result=_useState8[0],setResult=_useState8[1];var _useState9=useState(30),_useState10=_slicedToArray(_useState9,2),timer=_useState10[0],setTimer=_useState10[1];// 60 seconds (1 minute)\nuseEffect(function(){var timerId;if(!result){timerId=setInterval(function(){setTimer(function(prevTimer){if(prevTimer>0){return prevTimer-1;}else{if(currentQuestionIndex!==questions.length-1){handleNextQuestion(false);return 30;// Reset timer to 60 seconds for the next question\n}else{setResult(true);return 0;}}});},1000);}return function(){return clearInterval(timerId);};// Clean up the timer on component unmount\n},[currentQuestionIndex]);useEffect(function(){{timer===10&&openNotificationWithIcon(\"info\");}},[timer]);var handleAnswerSelect=function handleAnswerSelect(e){setSelectedAnswer(e.target.value);};var handleNextQuestion=function handleNextQuestion(click){if(!click&&selectedAnswer===null){openNotificationWithIcon(\"warning\");}if(currentQuestion&&selectedAnswer===currentQuestion.choices[currentQuestion.answer_index]){setScore(function(prevScore){return prevScore+1;});}setSelectedAnswer(null);setCurrentQuestionIndex(function(prevIndex){return prevIndex+1;});setCurrentQuestion(questions[currentQuestionIndex+1]);setTimer(30);// Reset timer to 60 seconds for the next question\n};var _notification$useNoti=notification.useNotification(),_notification$useNoti2=_slicedToArray(_notification$useNoti,2),api=_notification$useNoti2[0],contextHolder=_notification$useNoti2[1];var openNotificationWithIcon=function openNotificationWithIcon(type){if(type===\"info\"){api.info({message:\"hint\",description:currentQuestion===null||currentQuestion===void 0?void 0:currentQuestion.hint});}if(type===\"warning\"){api.warning({message:\"TimeOut\",description:\"time is up we moved to next question\"});}};return/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",!result&&currentQuestion&&/*#__PURE__*/_jsxs(_Fragment,{children:[contextHolder,\" \",/*#__PURE__*/_jsxs(Card,{title:\"Question \".concat(currentQuestionIndex+1),className:\"quiz-card\",children:[/*#__PURE__*/_jsx(\"p\",{children:currentQuestion.question}),/*#__PURE__*/_jsx(Radio.Group,{onChange:handleAnswerSelect,value:selectedAnswer,children:currentQuestion.choices.map(function(option){return/*#__PURE__*/_jsx(Radio,{value:option,children:option},option);})})]}),timer<=20&&/*#__PURE__*/_jsx(\"div\",{className:\"timer\",children:/*#__PURE__*/_jsxs(Title,{level:4,children:[\"Time Remaining: \",timer,\" seconds\"]})})]}),!result&&(currentQuestionIndex<questions.length-1?/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:function onClick(){return handleNextQuestion(true);},children:\"Next Question\"}):/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:function onClick(){return setResult(true);},children:\"Finish\"})),result&&/*#__PURE__*/_jsx(QuizResult,{score:score}),\" \"]});};export default QuizCard;","map":{"version":3,"names":["Card","Radio","Button","Typography","notification","React","useEffect","useState","QuizResult","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Title","QuizCard","props","questions","currentQuestion","setCurrentQuestion","_useState","_useState2","_slicedToArray","currentQuestionIndex","setCurrentQuestionIndex","_useState3","_useState4","selectedAnswer","setSelectedAnswer","_useState5","_useState6","score","setScore","_useState7","_useState8","result","setResult","_useState9","_useState10","timer","setTimer","timerId","setInterval","prevTimer","length","handleNextQuestion","clearInterval","openNotificationWithIcon","handleAnswerSelect","e","target","value","click","choices","answer_index","prevScore","prevIndex","_notification$useNoti","useNotification","_notification$useNoti2","api","contextHolder","type","info","message","description","hint","warning","children","title","concat","className","question","Group","onChange","map","option","level","onClick"],"sources":["D:/quiz-type/my-quiz-app/src/Quiz/Components/QuizCard.tsx"],"sourcesContent":["import {\r\n  Card,\r\n  Radio,\r\n  Button,\r\n  RadioChangeEvent,\r\n  Typography,\r\n  Alert,\r\n  notification,\r\n} from \"antd\";\r\nimport result from \"antd/es/result\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { fetchQuestions } from \"../../Adapter/FetchQuestions\";\r\nimport { Question } from \"../../App\";\r\nimport QuizResult from \"./QuizResult\";\r\nconst { Title } = Typography;\r\ninterface LayoutProps {\r\n  questions: Question[];\r\n  currentQuestion: Question | null;\r\n  setCurrentQuestion: (e: Question) => void;\r\n}\r\nconst QuizCard = (props: LayoutProps) => {\r\n  const { questions, currentQuestion, setCurrentQuestion } = props;\r\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\r\n  const [selectedAnswer, setSelectedAnswer] = useState<string | null>(null);\r\n  const [score, setScore] = useState(0);\r\n  const [result, setResult] = useState(false);\r\n  const [timer, setTimer] = useState<number>(30); // 60 seconds (1 minute)\r\n\r\n  useEffect(() => {\r\n    let timerId: any;\r\n    if (!result) {\r\n      timerId = setInterval(() => {\r\n        setTimer((prevTimer) => {\r\n          if (prevTimer > 0) {\r\n            return prevTimer - 1;\r\n          } else {\r\n            if (currentQuestionIndex !== questions.length - 1) {\r\n              handleNextQuestion(false);\r\n              return 30; // Reset timer to 60 seconds for the next question\r\n            } else {\r\n              setResult(true);\r\n              return 0;\r\n            }\r\n          }\r\n        });\r\n      }, 1000);\r\n    }\r\n\r\n    return () => clearInterval(timerId); // Clean up the timer on component unmount\r\n  }, [currentQuestionIndex]);\r\n\r\n  useEffect(() => {\r\n    {\r\n      timer === 10 && openNotificationWithIcon(\"info\");\r\n    }\r\n  }, [timer]);\r\n  const handleAnswerSelect = (e: RadioChangeEvent) => {\r\n    setSelectedAnswer(e.target.value);\r\n  };\r\n\r\n  const handleNextQuestion = (click: boolean) => {\r\n    if (!click && selectedAnswer === null) {\r\n      openNotificationWithIcon(\"warning\");\r\n    }\r\n    if (\r\n      currentQuestion &&\r\n      selectedAnswer === currentQuestion.choices[currentQuestion.answer_index]\r\n    ) {\r\n      setScore((prevScore) => prevScore + 1);\r\n    }\r\n\r\n    setSelectedAnswer(null);\r\n    setCurrentQuestionIndex((prevIndex) => prevIndex + 1);\r\n    setCurrentQuestion(questions[currentQuestionIndex + 1]);\r\n    setTimer(30); // Reset timer to 60 seconds for the next question\r\n  };\r\n  const [api, contextHolder] = notification.useNotification();\r\n  type NotificationType = \"success\" | \"info\" | \"warning\" | \"error\";\r\n\r\n  const openNotificationWithIcon = (type: NotificationType) => {\r\n    if (type === \"info\") {\r\n      api.info({\r\n        message: \"hint\",\r\n        description: currentQuestion?.hint,\r\n      });\r\n    }\r\n    if (type === \"warning\") {\r\n      api.warning({\r\n        message: \"TimeOut\",\r\n        description: \"time is up we moved to next question\",\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {\" \"}\r\n      {!result && currentQuestion && (\r\n        <>\r\n          {contextHolder}{\" \"}\r\n          <Card\r\n            title={`Question ${currentQuestionIndex + 1}`}\r\n            className=\"quiz-card\"\r\n          >\r\n            <p>{currentQuestion.question}</p>\r\n            <Radio.Group onChange={handleAnswerSelect} value={selectedAnswer}>\r\n              {currentQuestion.choices.map((option) => (\r\n                <Radio key={option} value={option}>\r\n                  {option}\r\n                </Radio>\r\n              ))}\r\n            </Radio.Group>\r\n          </Card>\r\n          {timer <= 20 && (\r\n            <div className=\"timer\">\r\n              <Title level={4}>Time Remaining: {timer} seconds</Title>\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n      {!result &&\r\n        (currentQuestionIndex < questions.length - 1 ? (\r\n          <Button type=\"primary\" onClick={() => handleNextQuestion(true)}>\r\n            Next Question\r\n          </Button>\r\n        ) : (\r\n          <Button type=\"primary\" onClick={() => setResult(true)}>\r\n            Finish\r\n          </Button>\r\n        ))}\r\n      {result && <QuizResult score={score} />}{\" \"}\r\n    </>\r\n  );\r\n};\r\nexport default QuizCard;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}