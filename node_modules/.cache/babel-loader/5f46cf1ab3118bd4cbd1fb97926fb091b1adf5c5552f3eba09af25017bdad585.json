{"ast":null,"code":"var _jsxFileName = \"D:\\\\quiz-type\\\\my-quiz-app\\\\src\\\\Quiz\\\\Components\\\\QuizCard.tsx\",\n  _s = $RefreshSig$();\nimport { Card, Radio, Button, Typography, notification } from \"antd\";\nimport React, { useEffect, useState } from \"react\";\nimport QuizResult from \"./QuizResult\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  Title\n} = Typography;\nconst QuizCard = props => {\n  _s();\n  const {\n    questions,\n    currentQuestion,\n    setCurrentQuestion\n  } = props;\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n  const [selectedAnswer, setSelectedAnswer] = useState(null);\n  const [score, setScore] = useState(0);\n  const [result, setResult] = useState(false);\n  const [timer, setTimer] = useState(30); // 60 seconds (1 minute)\n\n  useEffect(() => {\n    let timerId;\n    if (!result) {\n      timerId = setInterval(() => {\n        setTimer(prevTimer => {\n          if (prevTimer > 0) {\n            return prevTimer - 1;\n          } else {\n            if (currentQuestionIndex !== questions.length - 1) {\n              handleNextQuestion();\n              return 30; // Reset timer to 60 seconds for the next question\n            } else {\n              setResult(true);\n              return 0;\n            }\n          }\n        });\n      }, 1000);\n    }\n    return () => clearInterval(timerId); // Clean up the timer on component unmount\n  }, [currentQuestionIndex]);\n  useEffect(() => {\n    {\n      timer === 10 && openNotificationWithIcon(\"info\");\n    }\n  }, [timer]);\n  const handleAnswerSelect = e => {\n    setSelectedAnswer(e.target.value);\n  };\n  const handleNextQuestion = click => {\n    if (click && selectedAnswer !== null) {\n      openNotificationWithIcon(\"warning\");\n    }\n    if (currentQuestion && selectedAnswer === currentQuestion.choices[currentQuestion.answer_index]) {\n      setScore(prevScore => prevScore + 1);\n    }\n    setSelectedAnswer(null);\n    setCurrentQuestionIndex(prevIndex => prevIndex + 1);\n    setCurrentQuestion(questions[currentQuestionIndex + 1]);\n    setTimer(30); // Reset timer to 60 seconds for the next question\n  };\n\n  const [api, contextHolder] = notification.useNotification();\n  const openNotificationWithIcon = type => {\n    api[type]({\n      message: 'hint',\n      description: currentQuestion === null || currentQuestion === void 0 ? void 0 : currentQuestion.hint\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [\" \", !result && currentQuestion && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [contextHolder, \" \", /*#__PURE__*/_jsxDEV(Card, {\n        title: `Question ${currentQuestionIndex + 1}`,\n        className: \"quiz-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: currentQuestion.question\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Radio.Group, {\n          onChange: handleAnswerSelect,\n          value: selectedAnswer,\n          children: currentQuestion.choices.map(option => /*#__PURE__*/_jsxDEV(Radio, {\n            value: option,\n            children: option\n          }, option, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this), timer <= 20 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"timer\",\n        children: /*#__PURE__*/_jsxDEV(Title, {\n          level: 4,\n          children: [\"Time Remaining: \", timer, \" seconds\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 26\n      }, this)]\n    }, void 0, true), !result && (currentQuestionIndex < questions.length - 1 ? /*#__PURE__*/_jsxDEV(Button, {\n      type: \"primary\",\n      onClick: handleNextQuestion,\n      children: \"Next Question\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(Button, {\n      type: \"primary\",\n      onClick: () => setResult(true),\n      children: \"Finish\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }, this)), result && /*#__PURE__*/_jsxDEV(QuizResult, {\n      score: score\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 18\n    }, this), \" \"]\n  }, void 0, true);\n};\n_s(QuizCard, \"TOE1vNX02k5Ry1MvbrnV39zOGHs=\", false, function () {\n  return [notification.useNotification];\n});\n_c = QuizCard;\nexport default QuizCard;\nvar _c;\n$RefreshReg$(_c, \"QuizCard\");","map":{"version":3,"names":["Card","Radio","Button","Typography","notification","React","useEffect","useState","QuizResult","jsxDEV","_jsxDEV","Fragment","_Fragment","Title","QuizCard","props","_s","questions","currentQuestion","setCurrentQuestion","currentQuestionIndex","setCurrentQuestionIndex","selectedAnswer","setSelectedAnswer","score","setScore","result","setResult","timer","setTimer","timerId","setInterval","prevTimer","length","handleNextQuestion","clearInterval","openNotificationWithIcon","handleAnswerSelect","e","target","value","click","choices","answer_index","prevScore","prevIndex","api","contextHolder","useNotification","type","message","description","hint","children","title","className","question","fileName","_jsxFileName","lineNumber","columnNumber","Group","onChange","map","option","level","onClick","_c","$RefreshReg$"],"sources":["D:/quiz-type/my-quiz-app/src/Quiz/Components/QuizCard.tsx"],"sourcesContent":["import { Card, Radio, Button, RadioChangeEvent, Typography, Alert, notification } from \"antd\";\r\nimport result from \"antd/es/result\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { fetchQuestions } from \"../../Adapter/FetchQuestions\";\r\nimport { Question } from \"../../App\";\r\nimport QuizResult from \"./QuizResult\";\r\nconst { Title } = Typography;\r\ninterface LayoutProps {\r\n  questions: Question[];\r\n  currentQuestion: Question | null;\r\n  setCurrentQuestion: (e: Question) => void\r\n}\r\nconst QuizCard = (props: LayoutProps) => {\r\n  const { questions, currentQuestion, setCurrentQuestion } = props;\r\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\r\n  const [selectedAnswer, setSelectedAnswer] = useState<string | null>(null);\r\n  const [score, setScore] = useState(0);\r\n  const [result, setResult] = useState(false);\r\n  const [timer, setTimer] = useState<number>(30); // 60 seconds (1 minute)\r\n\r\n  useEffect(() => {\r\n    let timerId: any;\r\n    if (!result) {\r\n      timerId = setInterval(() => {\r\n        setTimer((prevTimer) => {\r\n          if (prevTimer > 0) {\r\n            return prevTimer - 1;\r\n          } else {\r\n            if (currentQuestionIndex !== questions.length - 1) {\r\n              handleNextQuestion();\r\n              return 30; // Reset timer to 60 seconds for the next question\r\n            } else {\r\n              setResult(true);\r\n              return 0;\r\n            }\r\n          }\r\n        });\r\n      }, 1000);\r\n    }\r\n\r\n    return () => clearInterval(timerId); // Clean up the timer on component unmount\r\n  }, [currentQuestionIndex]);\r\n \r\n  useEffect(() => {\r\n    {timer === 10 &&  openNotificationWithIcon(\"info\")}\r\n  }, [timer])\r\n  const handleAnswerSelect = (e: RadioChangeEvent) => {\r\n    setSelectedAnswer(e.target.value);\r\n  };\r\n\r\n  const handleNextQuestion = (click: boolean) => {\r\n    if(click && selectedAnswer !== null){\r\n      openNotificationWithIcon(\"warning\")\r\n    }\r\n    if (\r\n      currentQuestion &&\r\n      selectedAnswer === currentQuestion.choices[currentQuestion.answer_index]\r\n    ) {\r\n      setScore((prevScore) => prevScore + 1);\r\n    }\r\n\r\n    setSelectedAnswer(null);\r\n    setCurrentQuestionIndex((prevIndex) => prevIndex + 1);\r\n    setCurrentQuestion(questions[currentQuestionIndex + 1]);\r\n    setTimer(30); // Reset timer to 60 seconds for the next question\r\n  };\r\n  const [api, contextHolder] = notification.useNotification();\r\n  type NotificationType = 'success' | 'info' | 'warning' | 'error';\r\n\r\n\r\n  const openNotificationWithIcon = (type: NotificationType) => {\r\n    api[type]({\r\n      message: 'hint',\r\n      description: currentQuestion?.hint\r\n      \r\n    });\r\n  };\r\n \r\n  return (\r\n    <>\r\n      {\" \"}\r\n      {!result && currentQuestion && (\r\n        <>\r\n         \r\n         {contextHolder}\r\n          {\" \"}\r\n          <Card\r\n            title={`Question ${currentQuestionIndex + 1}`}\r\n            className=\"quiz-card\"\r\n          >\r\n            <p>{currentQuestion.question}</p>\r\n            <Radio.Group onChange={handleAnswerSelect} value={selectedAnswer}>\r\n              {currentQuestion.choices.map((option) => (\r\n                <Radio key={option} value={option}>\r\n                  {option}\r\n                </Radio>\r\n              ))}\r\n            </Radio.Group>\r\n          </Card>\r\n         {timer <= 20 && <div className=\"timer\">\r\n            <Title level={4}>Time Remaining: {timer} seconds</Title>\r\n          </div>}\r\n        </>\r\n      )}\r\n      {!result &&\r\n        (currentQuestionIndex < questions.length - 1 ? (\r\n          <Button type=\"primary\" onClick={handleNextQuestion}>\r\n            Next Question\r\n          </Button>\r\n        ) : (\r\n          <Button type=\"primary\" onClick={() => setResult(true)}>\r\n            Finish\r\n          </Button>\r\n        ))}\r\n      {result && <QuizResult score={score} />}{\" \"}\r\n    </>\r\n  );\r\n};\r\nexport default QuizCard;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}