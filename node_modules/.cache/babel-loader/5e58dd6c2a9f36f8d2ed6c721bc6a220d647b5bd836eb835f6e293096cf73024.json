{"ast":null,"code":"var _jsxFileName = \"D:\\\\quiz-type\\\\my-quiz-app\\\\src\\\\Quiz\\\\Components\\\\QuizCard.tsx\",\n  _s = $RefreshSig$();\nimport { Card, Radio, Button, Typography, notification } from \"antd\";\nimport React, { useEffect, useState } from \"react\";\nimport QuizResult from \"./QuizResult\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  Title\n} = Typography;\nconst QuizCard = props => {\n  _s();\n  const {\n    questions,\n    currentQuestion\n  } = props;\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n  const [selectedAnswer, setSelectedAnswer] = useState(null);\n  const [score, setScore] = useState(0);\n  const [result, setResult] = useState(false);\n  const [timer, setTimer] = useState(30); // 60 seconds (1 minute)\n\n  useEffect(() => {\n    let timerId;\n    if (!result) {\n      timerId = setInterval(() => {\n        setTimer(prevTimer => {\n          if (prevTimer > 0) {\n            return prevTimer - 1;\n          } else {\n            if (currentQuestionIndex !== questions.length - 1) {\n              handleNextQuestion();\n              return 30; // Reset timer to 60 seconds for the next question\n            } else {\n              setResult(true);\n              return 0;\n            }\n          }\n        });\n      }, 1000);\n    }\n    return () => clearInterval(timerId); // Clean up the timer on component unmount\n  }, [currentQuestionIndex]);\n  const handleAnswerSelect = e => {\n    setSelectedAnswer(e.target.value);\n  };\n  const handleNextQuestion = () => {\n    if (currentQuestion && selectedAnswer === currentQuestion.choices[currentQuestion.answer_index]) {\n      setScore(prevScore => prevScore + 1);\n    }\n    setSelectedAnswer(null);\n    setCurrentQuestionIndex(prevIndex => prevIndex + 1);\n    setTimer(10); // Reset timer to 60 seconds for the next question\n  };\n\n  const [api, contextHolder] = notification.useNotification();\n  const openNotificationWithIcon = type => {\n    api[type]({\n      message: 'Notification Title',\n      description: 'This is the content of the notification. This is the content of the notification. This is the content of the notification.'\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [\" \", !result && currentQuestion && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [timer <= 20 && openNotificationWithIcon(\"info\"), \" \", /*#__PURE__*/_jsxDEV(Card, {\n        title: `Question ${currentQuestionIndex + 1}`,\n        className: \"quiz-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: currentQuestion.question\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Radio.Group, {\n          onChange: handleAnswerSelect,\n          value: selectedAnswer,\n          children: currentQuestion.choices.map(option => /*#__PURE__*/_jsxDEV(Radio, {\n            value: option,\n            children: option\n          }, option, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"timer\",\n        children: /*#__PURE__*/_jsxDEV(Title, {\n          level: 4,\n          children: [\"Time Remaining: \", timer, \" seconds\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), !result && (currentQuestionIndex < questions.length - 1 ? /*#__PURE__*/_jsxDEV(Button, {\n      type: \"primary\",\n      onClick: handleNextQuestion,\n      children: \"Next Question\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(Button, {\n      type: \"primary\",\n      onClick: () => setResult(true),\n      children: \"Finish\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }, this)), result && /*#__PURE__*/_jsxDEV(QuizResult, {\n      score: score\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 18\n    }, this), \" \"]\n  }, void 0, true);\n};\n_s(QuizCard, \"WGjfKVaA/Zc7QEMYvbdVXColey4=\", false, function () {\n  return [notification.useNotification];\n});\n_c = QuizCard;\nexport default QuizCard;\nvar _c;\n$RefreshReg$(_c, \"QuizCard\");","map":{"version":3,"names":["Card","Radio","Button","Typography","notification","React","useEffect","useState","QuizResult","jsxDEV","_jsxDEV","Fragment","_Fragment","Title","QuizCard","props","_s","questions","currentQuestion","currentQuestionIndex","setCurrentQuestionIndex","selectedAnswer","setSelectedAnswer","score","setScore","result","setResult","timer","setTimer","timerId","setInterval","prevTimer","length","handleNextQuestion","clearInterval","handleAnswerSelect","e","target","value","choices","answer_index","prevScore","prevIndex","api","contextHolder","useNotification","openNotificationWithIcon","type","message","description","children","title","className","question","fileName","_jsxFileName","lineNumber","columnNumber","Group","onChange","map","option","level","onClick","_c","$RefreshReg$"],"sources":["D:/quiz-type/my-quiz-app/src/Quiz/Components/QuizCard.tsx"],"sourcesContent":["import { Card, Radio, Button, RadioChangeEvent, Typography, Alert, notification } from \"antd\";\r\nimport result from \"antd/es/result\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { fetchQuestions } from \"../../Adapter/FetchQuestions\";\r\nimport { Question } from \"../../App\";\r\nimport QuizResult from \"./QuizResult\";\r\nconst { Title } = Typography;\r\ninterface LayoutProps {\r\n  questions: Question[];\r\n  currentQuestion: Question | null;\r\n}\r\nconst QuizCard = (props: LayoutProps) => {\r\n  const { questions, currentQuestion } = props;\r\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\r\n  const [selectedAnswer, setSelectedAnswer] = useState<string | null>(null);\r\n  const [score, setScore] = useState(0);\r\n  const [result, setResult] = useState(false);\r\n  const [timer, setTimer] = useState<number>(30); // 60 seconds (1 minute)\r\n\r\n  useEffect(() => {\r\n    let timerId: any;\r\n    if (!result) {\r\n      timerId = setInterval(() => {\r\n        setTimer((prevTimer) => {\r\n          if (prevTimer > 0) {\r\n            return prevTimer - 1;\r\n          } else {\r\n            if (currentQuestionIndex !== questions.length - 1) {\r\n              handleNextQuestion();\r\n              return 30; // Reset timer to 60 seconds for the next question\r\n            } else {\r\n              setResult(true);\r\n              return 0;\r\n            }\r\n          }\r\n        });\r\n      }, 1000);\r\n    }\r\n\r\n    return () => clearInterval(timerId); // Clean up the timer on component unmount\r\n  }, [currentQuestionIndex]);\r\n\r\n  const handleAnswerSelect = (e: RadioChangeEvent) => {\r\n    setSelectedAnswer(e.target.value);\r\n  };\r\n\r\n  const handleNextQuestion = () => {\r\n    if (\r\n      currentQuestion &&\r\n      selectedAnswer === currentQuestion.choices[currentQuestion.answer_index]\r\n    ) {\r\n      setScore((prevScore) => prevScore + 1);\r\n    }\r\n\r\n    setSelectedAnswer(null);\r\n    setCurrentQuestionIndex((prevIndex) => prevIndex + 1);\r\n    setTimer(10); // Reset timer to 60 seconds for the next question\r\n  };\r\n  const [api, contextHolder] = notification.useNotification();\r\n  type NotificationType = 'success' | 'info' | 'warning' | 'error';\r\n\r\n\r\n  const openNotificationWithIcon = (type: NotificationType) => {\r\n    api[type]({\r\n      message: 'Notification Title',\r\n      description:\r\n        'This is the content of the notification. This is the content of the notification. This is the content of the notification.',\r\n    });\r\n  };\r\n  return (\r\n    <>\r\n      {\" \"}\r\n      {!result && currentQuestion && (\r\n        <>\r\n         {timer <= 20 &&  openNotificationWithIcon(\"info\")}\r\n          {\" \"}\r\n          <Card\r\n            title={`Question ${currentQuestionIndex + 1}`}\r\n            className=\"quiz-card\"\r\n          >\r\n            <p>{currentQuestion.question}</p>\r\n            <Radio.Group onChange={handleAnswerSelect} value={selectedAnswer}>\r\n              {currentQuestion.choices.map((option) => (\r\n                <Radio key={option} value={option}>\r\n                  {option}\r\n                </Radio>\r\n              ))}\r\n            </Radio.Group>\r\n          </Card>\r\n          <div className=\"timer\">\r\n            <Title level={4}>Time Remaining: {timer} seconds</Title>\r\n          </div>\r\n        </>\r\n      )}\r\n      {!result &&\r\n        (currentQuestionIndex < questions.length - 1 ? (\r\n          <Button type=\"primary\" onClick={handleNextQuestion}>\r\n            Next Question\r\n          </Button>\r\n        ) : (\r\n          <Button type=\"primary\" onClick={() => setResult(true)}>\r\n            Finish\r\n          </Button>\r\n        ))}\r\n      {result && <QuizResult score={score} />}{\" \"}\r\n    </>\r\n  );\r\n};\r\nexport default QuizCard;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}